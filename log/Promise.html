<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <script type="text/javascript">
            {
                let status = 1 
                const step1 = (resolve, reject) => {
                    console.log('开始执行第一步')
                    if(status === 1) {
                        resolve('第一步完成')
                    } else {
                        reject('第一步出错')
                    }
                }
                const step2 = (resolve, reject) => {
                    console.log('开始执行第二步')
                    status = 0
                    if(status === 1) {
                        resolve('第二步完成')
                    } else {
                        reject('第二步出错')
                    }
                }
                const step3 = (resolve, reject) => {
                    console.log('开始执行第三步')
                    if(status === 1) {
                        resolve('第三步完成')
                    } else {
                        reject('第三步出错')
                    }
                }
                new Promise(step1).then((res) => {
                    console.log(res)
                    return new Promise(step2)
                }).then((res) => {
                    console.log(res)
                    return new Promise(step3)
                }).then((res) => {
                    console.log(res)
                })

            }
        </script>
    </body>
</html>